================================================================================
[01] ネットワークデバイス - 01
[02] ネットワークデバイス - 02
[03] ネットワークデバイス - 03 (ifconfig)
[04] ARP
[05] ネットワーク管理コマンド - 01 (ping)
[06] ネットワーク管理コマンド - 02 (ping6)
[07] ネットワーク管理コマンド - 03 (traceroute)
[08] ネットワーク管理コマンド - 04 (traceroute6)
[09] ネットワーク管理コマンド - 05 (tcpdump)
[10] ネットワーク管理コマンド - 06 (netstat)
[11] ネットワーク管理コマンド - 07 (ss)
[12] ネットワーク管理コマンド - 08 (nc)
[13] ネットワーク管理コマンド - 09 (ip)
[14] ルーティングの設定
================================================================================
[01]
  ネットワークデバイス - 01
  
[内容]
  ## 作業内容
    システムのイーサネットのネットワークデバイスを調査する
  
  ## 使用マシン
    HOST : localhost
    IPV4 : 192.168.1.3
    MEMO : ホスト
  
  ## 命名規則1
    en(イーサネット) + p0(PCIバスの0番目) + s0(スロット0)
    en(イーサネット) + p0(PCIバスの0番目) + s1(スロット1)
  
  ## 命名規則2
    en(イーサネット) + o0(オンボードの0番目)
    en(イーサネット) + o1(オンボードの1番目)
  
[確認]
  $ cd $HOME
  $ dmesg | grep enp (PCIバス)
  
  コマンドの実行結果
  --------------------------------------------------
  [   56.978724] IPv6: ADDRCONF(NETDEV_UP): enp1s0: link is not ready
  [   56.990397] IPv6: ADDRCONF(NETDEV_UP): enp1s0: link is not ready
  [   57.991210] tg3 0000:01:00.0 enp1s0: Link is down
  [   61.003359] tg3 0000:01:00.0 enp1s0: Link is up at 1000 Mbps, full duplex
  [   61.003365] tg3 0000:01:00.0 enp1s0: Flow control is off for TX and off for RX
  [   61.003383] IPv6: ADDRCONF(NETDEV_CHANGE): enp1s0: link becomes ready
  --------------------------------------------------
  
  $ cd $HOME
  $ dmesg | grep eno (オンボード)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[02]
  ネットワークデバイス - 02
  
[内容]
  ## 作業内容
    システムの無線LANのネットワークデバイスを調査する
  
  ## 使用マシン
    HOST : localhost
    IPV4 : 192.168.1.3
    MEMO : ホスト
  
  ## 命名規則1
    wl(無線LAN) + p0(PCIバスの0番目) + s0(スロット0)
    wl(無線LAN) + p0(PCIバスの0番目) + s1(スロット1)
  
  ## 命名規則2
    wl(無線LAN) + o0(オンボードの0番目)
    wl(無線LAN) + o1(オンボードの1番目)
  
[確認]
  $ cd $HOME
  $ dmesg | grep wlp (PCIバス)
  
  コマンドの実行結果
  --------------------------------------------------
  [   56.995670] IPv6: ADDRCONF(NETDEV_UP): wlp2s0: link is not ready
  --------------------------------------------------
  
  $ cd $HOME
  $ dmesg | grep wlo (オンボード)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[03]
  ネットワークデバイス - 03 (ifconfig)
  
[内容]
  ## 作業内容
    ネットワークデバイスの設定をコマンド(ifconfig)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(ifconfig)
    ifconfig -a                // 全ネットワークデバイスを表示
    ifconfig XX                // ネットワークデバイス(XX)を表示
    ifconfig XX YY netmask ZZ  // ネットワークデバイス(XX)にIPアドレス(YY)、ネットマスク(ZZ)を設定する
    ifconfig XX up             // ネットワークデバイス(XX)を起動
    ifconfig XX down           // ネットワークデバイス(XX)を停止
  
[確認]
  vm12$ cd $HOME
  vm12$ ifconfig (-a) (全てのネットワークデバイスを表示)
  
  コマンドの実行結果
  --------------------------------------------------
  eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.122.12  netmask 255.255.255.0  broadcast 192.168.122.255
        inet6 fe80::5054:ff:fe70:e23b  prefixlen 64  scopeid 0x20<link>
        ether 52:54:00:70:e2:3b  txqueuelen 1000  (Ethernet)
        RX packets 102  bytes 7029 (6.8 KiB)
        RX errors 0  dropped 20  overruns 0  frame 0
        TX packets 44  bytes 3496 (3.4 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  
  lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 32  bytes 2592 (2.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 32  bytes 2592 (2.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ifconfig eth0 (ネットワークデバイス(eth0)を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.122.12  netmask 255.255.255.0  broadcast 192.168.122.255
        inet6 fe80::5054:ff:fe70:e23b  prefixlen 64  scopeid 0x20<link>
        ether 52:54:00:70:e2:3b  txqueuelen 1000  (Ethernet)
        RX packets 239  bytes 14549 (14.2 KiB)
        RX errors 0  dropped 20  overruns 0  frame 0
        TX packets 64  bytes 4968 (4.8 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo ifconfig eth0:0 192.168.122.22 netmask 255.255.255.0 (ネットワークデバイス(eth0)に仮想IPアドレスを付与する)
  vm12$ sudo ifconfig eth0:1 192.168.122.32 netmask 255.255.255.0 (ネットワークデバイス(eth0)に仮想IPアドレスを付与する)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ifconfig eth0:0 up
  vm12$ ifconfig eth0:1 up
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ifconfig (-a) (全てのネットワークデバイスを表示)
  
  コマンドの実行結果
  --------------------------------------------------
  eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.122.12  netmask 255.255.255.0  broadcast 192.168.122.255
        inet6 fe80::5054:ff:fe70:e23b  prefixlen 64  scopeid 0x20<link>
        ether 52:54:00:70:e2:3b  txqueuelen 1000  (Ethernet)
        RX packets 912  bytes 51533 (50.3 KiB)
        RX errors 0  dropped 20  overruns 0  frame 0
        TX packets 160  bytes 11984 (11.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  
  // 再起動でクリア
  eth0:0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.122.22  netmask 255.255.255.0  broadcast 192.168.122.255
        ether 52:54:00:70:e2:3b  txqueuelen 1000  (Ethernet)
  
  // 再起動でクリア
  eth0:1: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.122.32  netmask 255.255.255.0  broadcast 192.168.122.255
        ether 52:54:00:70:e2:3b  txqueuelen 1000  (Ethernet)
  
  lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 32  bytes 2592 (2.5 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 32  bytes 2592 (2.5 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[04]
  ARP
  
[内容]
  ## 作業内容
    ARPの設定をコマンド(arp)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(arp)
    arp -a XX     // 指定ホスト(XX)のエントリまたは全エントリ表示
    arp -d XX     // 指定ホスト(XX)のエントリ削除
    arp -f XX     // ファイルからホストとMACアドレスの対応を詠み込む -> デフォルトは「/etc/ethers」
    arp -n        // ホスト名の名前解決を行わない
    arp -i XX     // 指定NIC(XX)のエントリ表示
    arp -a XX YY  // ホスト名(XX)とMACアドレス(YY)の組合せエントリを追加
  
[確認]
  vm12$ cd $HOME
  vm12$ arp -a (全エントリ表示)
  
  コマンドの実行結果
  --------------------------------------------------
  vm13 (192.168.122.13) at 52:54:00:de:1a:a8 [ether] on eth0
  gateway (192.168.122.1) at 52:54:00:b4:eb:a9 [ether] on eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -a vm13 (指定ホスト(vm13)のエントリ表示)
  
  コマンドの実行結果
  --------------------------------------------------
  vm13 (192.168.122.13) at 52:54:00:de:1a:a8 [ether] on eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -d 192.168.122.13 (エントリを削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ vi /etc/ethers (設定ファイルを編集)
  
  コマンドの実行結果
  --------------------------------------------------
  52:54:00:de:1a:a8 192.168.122.13  // vm13
  52:54:00:b4:eb:a9 192.168.122.1   // ゲートウェイ
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -f (/etc/ethers) (設定ファイルを読込)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -a (全エントリ表示)
  
  コマンドの実行結果
  --------------------------------------------------
  vm13 (192.168.122.13) at 52:54:00:de:1a:a8 [ether] PERM on eth0
  gateway (192.168.122.1) at 52:54:00:b4:eb:a9 [ether] PERM on eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -a -n (ホスト名の名前解決を行わない)
  
  コマンドの実行結果
  --------------------------------------------------
  ? (192.168.122.13) at 52:54:00:de:1a:a8 [ether] PERM on eth0
  ? (192.168.122.1) at 52:54:00:b4:eb:a9 [ether] PERM on eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -i eth0 (指定NICのエントリ表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Address   HWtype  HWaddress          Flags Mask  Iface
  vm13      ether   52:54:00:de:1a:a8  CM          eth0
  gateway   ether   52:54:00:b4:eb:a9  CM          eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -d 192.168.122.13 (エントリを削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ arp -s vm13 52:54:00:de:1a:a8 (ホスト名とMACアドレスの組合せエントリを追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[05]
  ネットワーク管理コマンド - 01 (ping)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(ping)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(ping)
    ping XX        // 指定ホスト(XX)にICMPパケットを送信(Ctrl + C で停止)
    ping -c NN XX  // 指定ホスト(XX)にICMPパケットを送信、送信回数(NN)回
    ping -n XX     // 指定ホスト(XX)にICMPパケットを送信、ホスト名の名前解決を行わない
    ping -i NN XX  // 指定ホスト(XX)にICMPパケットを送信、送信間隔(NN)秒
  
[確認]
  vm12$ cd $HOME
  vm12$ ping -n -c 3 -i 1 www.yahoo.co.jp (ホスト名の名前解決は行わない、送信回数は3回、送信間隔は1秒)
  
  コマンドの実行結果
  --------------------------------------------------
  PING edge12.g.yimg.jp (182.22.28.252) 56(84) bytes of data.
  64 bytes from 182.22.28.252: icmp_seq=1 ttl=54 time=6.83 ms
  64 bytes from 182.22.28.252: icmp_seq=2 ttl=54 time=5.66 ms
  64 bytes from 182.22.28.252: icmp_seq=3 ttl=54 time=5.70 ms
  
  --- edge12.g.yimg.jp ping statistics ---
  3 packets transmitted, 3 received, 0% packet loss, time 2004ms
  rtt min/avg/max/mdev = 5.660/6.065/6.832/0.549 ms
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[06]
  ネットワーク管理コマンド - 02 (ping6)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(ping6)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(ping6)
    ping6 XX        // 指定ホスト(XX)にICMPパケットを送信(Ctrl + C で停止)
    ping6 -c NN XX  // 指定ホスト(XX)にICMPパケットを送信、送信回数(NN)回
    ping6 -n XX     // 指定ホスト(XX)にICMPパケットを送信、ホスト名の名前解決を行わない
    ping6 -i NN XX  // 指定ホスト(XX)にICMPパケットを送信、送信間隔(NN)秒
  
[確認]
  vm12$ cd $HOME
  vm12$ ping6 -n -c 3 -i 1 localhost (ホスト名の名前解決は行わない、送信回数は3回、送信間隔は1秒)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略)
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[07]
  ネットワーク管理コマンド - 03 (traceroute)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(traceroute)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(traceroute)
    traceroute XX        // 指定ホスト(XX)への通信経路を表示
    traceroute -n XX     // 指定ホスト(XX)への通信経路を表示、ホスト名の名前解決を行わない
    traceroute -i NN XX  // 指定ホスト(XX)への通信経路を表示、NIC(NN)を指定
  
[確認]
  vm12$ cd $HOME
  vm12$ sudo yum -y install traceroute (パッケージ追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> エラー出力が無ければOK
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ traceroute -n www.yahoo.co.jp (ホスト名の名前解決は行わないで通信経路を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  traceroute to www.yahoo.co.jp (183.79.250.123), 30 hops max, 60 byte packets

  01  192.168.122.1    5.458 ms  5.338 ms  5.049 ms
  02  192.168.1.1      4.785 ms  4.647 ms  4.407 ms
  03  118.23.5.241     8.984 ms  8.870 ms  8.989 ms
  04  118.23.5.133     8.560 ms  8.260 ms  8.635 ms
  05  118.23.39.101    8.587 ms  8.603 ms  9.445 ms
  06  153.146.171.93   9.190 ms  9.090 ms  8.904 ms
  07  60.37.54.73      8.931 ms  9.616 ms  9.490 ms
  08  125.170.97.129   9.426 ms  9.578 ms  8.641 ms
  09  122.1.245.190    9.615 ms  9.224 ms  9.407 ms
  10  153.149.219.146  9.614 ms  8.276 ms  7.990 ms
  11  153.149.219.154  9.309 ms  9.876 ms  4.490 ms
  12  211.0.206.166    9.366 ms  6.359 ms  2.957 ms
  13  * * *
  -- -- 省略 -- --
  28  * * *
  29  * * *
  30  * * *
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[08]
  ネットワーク管理コマンド - 04 (traceroute6)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(traceroute6)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(traceroute6)
    traceroute6 XX        // 指定ホスト(XX)への通信経路を表示
    traceroute6 -n XX     // 指定ホスト(XX)への通信経路を表示、ホスト名の名前解決を行わない
    traceroute6 -i NN XX  // 指定ホスト(XX)への通信経路を表示、NIC(NN)を指定
  
[確認]
  vm12$ cd $HOME
  vm12$ traceroute6 -n localhost (ホスト名の名前解決は行わないで通信経路を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略)
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[09]
  ネットワーク管理コマンド - 05 (tcpdump)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(tcpdump)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## 使用マシン
    HOST : vm13
    IPV4 : 192.168.122.13
    MEMO : 仮想マシン(クライアント用途)
  
  ## コマンド(tcpdump)
    tcpdump -i XX  // NIC(XX)を指定
    tcpdump -n     // ホストの名前解決を行わない
    tcpdump -N     // ホストのドメイン名を表示しない
    tcpdump -p     // 自分宛のパケット以外はキャプチャしない(非プロミスキャスモード)
    tcpdump -t     // 時刻を表示しない
    tcpdump -v     // 詳細に表示
    tcpdump -l     // 標準出力をバッファリング
    tcpdump -s XX  // パケットからの抽出バイト数(XX)を指定
    tcpdump -X     // 16進数とASCII文字で表示
    tcpdump -w XX  // キャプチャ内容をファイル(XX)に保存
    tcpdump src host XX  // 送信元ホスト(XX)を指定
    tcpdump dst host XX  // 送信先ホスト(XX)を指定
    tcpdump host XX      // 送信元または送信先ホスト(XX)を指定
    tcpdump src net XX mask YY  // 送信元ネットワーク(XX)とそのネットマスク(YY)を指定
    tcpdump dst net XX mask YY  // 送信先ネットワーク(XX)とそのネットマスク(YY)を指定
    tcpdump net XX mask YY      // 送信元または送信先ネットワーク(XX)とそのネットマスク(YY)を指定
    tcpdump src port XX  // 送信元ポート(XX)を指定
    tcpdump dst port XX  // 送信先ポート(XX)を指定
    tcpdump port XX      // ポート(XX)を指定

[確認]
  vm12$ cd $HOME
  vm12$ sudo yum -y install tcpdump (パッケージ追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> エラー出力が無ければOK
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo tcpdump -n -l -i eth0 src host vm13 (名前解決なし、バッファリング、NIC指定、送信元(vm13)のトラフィック監視)
  
  コマンドの実行結果
  --------------------------------------------------
  [29214.472802] device eth0 entered promiscuous mode
  tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
  listening on eth0, link-type EN10MB (Ethernet), capture size 262144 bytes

  // ここでホスト(vm13)からトラフィック送信

  20:26:35.927583 ARP, Request who-has 192.168.122.12 tell 192.168.122.13, length 28
  20:26:35.927957 IP 192.168.122.13 > 192.168.122.12: ICMP echo request, id 1210, seq 1, length 64
  20:26:36.929333 IP 192.168.122.13 > 192.168.122.12: ICMP echo request, id 1210, seq 2, length 64
  20:26:37.931282 IP 192.168.122.13 > 192.168.122.12: ICMP echo request, id 1210, seq 3, length 64
  20:26:41.234037 ARP, Reply 192.168.122.13 is-at 52:54:00:01:99:8f, length 28
  
  5 packets captured
  5 packets received by filter
  0 packets dropped by kernel
  [29236.335926] device eth0 left promiscuous mode
  --------------------------------------------------
    
    vm13$ cd $HOME
    vm13$ ping -c 3 -i 1 vm12
    
    コマンドの実行結果
    --------------------------------------------------
    PING vm12 (192.168.122.12) 56(84) bytes of data.
    64 bytes from vm12 (192.168.122.12): icmp_seq=1 ttl=64 time=1.00 ms
    64 bytes from vm12 (192.168.122.12): icmp_seq=2 ttl=64 time=0.711 ms
    64 bytes from vm12 (192.168.122.12): icmp_seq=3 ttl=64 time=0.765 ms
    
    --- vm12 ping statistics ---
    3 packets transmitted, 3 received, 0% packet loss, time 2003ms
    rtt min/avg/max/mdev = 0.711/0.826/1.003/0.129 ms
    --------------------------------------------------
    
  以下の確認に続く
  
================================================================================
[10]
  ネットワーク管理コマンド - 06 (netstat)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(netstat)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(netstat)
    netstat -a  // 全ソケット情報を表示
    netstat -l  // 接続待ちソケットのみ表示
    netstat -c  // 一秒毎にリアルタイム表示更新
    netstat -i  // ネットワークデバイスの状態を表示
    netstat -n  // 名前解決なし
    netstat -p  // プロセスとPIDも表示
    netstat -r  // ルーティングテーブルを表示
    netstat -t  // TCPポートのみ表示
    netstat -u  // UDPポートのみ表示

[確認]
  vm12$ cd $HOME
  vm12$ netstat -i (ネットワークデバイスの状態を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel Interface table
  Iface    MTU    RX-OK  RX-ERR  RX-DRP  RX-OVR  TX-OK  TX-ERR  TX-DRP  TX-OVR   Flg
  eth0    1500      548       0      17       0    117       0       0       0   BMRU
  lo     65536       32       0       0       0     32       0       0       0   LRU
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ netstat -a -p (全ソケット情報、プロセス名を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  // インターネット接続
  Active Internet connections (servers and established)
  Proto   Recv-Q   Send-Q   Local Address    Foreign Address   State    PID/Program name    
  tcp          0        0   0.0.0.0:ssh      0.0.0.0:*         LISTEN   3167/sshd           
  tcp          0        0   localhost:smtp   0.0.0.0:*         LISTEN   3412/master         
  tcp6         0        0   [::]:ssh         [::]:*            LISTEN   3167/sshd           
  tcp6         0        0   localhost:smtp   [::]:*            LISTEN   3412/master         
  udp          0        0   localhost:323    0.0.0.0:*                  2636/chronyd        
  udp6         0        0   localhost:323    [::]:*                     2636/chronyd        
  
  // ソケット
  Active UNIX domain sockets (servers and established)
  Proto  RefCnt  Flags    Type    State      I-Node  PID/Program name  Path
  unix   2       [ ACC ]  STREAM  LISTENING  24736   3412/master       private/trace
  unix   3       [ ]      DGRAM              7456    1/systemd         /run/systemd/notify
  unix   2       [ ]      DGRAM              7458    1/systemd         /run/systemd/cgroups-agent
  unix   2       [ ACC ]  STREAM  LISTENING  24717   3412/master       public/cleanup
  unix   2       [ ACC ]  STREAM  LISTENING  24720   3412/master       public/qmgr
  unix   2       [ ACC ]  STREAM  LISTENING  24742   3412/master       public/flush
  
  -- 省略 --
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ netstat -a -t -n (全ソケット情報、TCPポート、名前解決なし)
  
  コマンドの実行結果
  --------------------------------------------------
  // インターネット接続
  Active Internet connections (servers and established)
  Proto   Recv-Q   Send-Q   Local Address    Foreign Address   State
  tcp          0        0   0.0.0.0:22       0.0.0.0:*         LISTEN
  tcp          0        0   127.0.0.1:25     0.0.0.0:*         LISTEN
  tcp6         0        0   :::22            :::*              LISTEN
  tcp6         0        0   ::1:25           :::*              LISTEN
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ netstat -r (ルーティングテーブル)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask         Flags   MSS   Window   irtt   Iface
  default         gateway   0.0.0.0         UG        0        0      0   eth0
  192.168.122.0   0.0.0.0   255.255.255.0   U         0        0      0   eth0
  
  Destination  : 宛先ネットワークまたは宛先ホスト
  Gateway      : ゲートウェイアドレス(*は未設定)
  Genmask      : 宛先サブネットマスク(0.0.0.0=デフォルトゲートウェイ、255.255.255.0=ネットワーク、255.255.255.255=ホスト)
  Flags        : U(有効な経路), H(ホスト), G(ゲートウェイ使用), !(無効な経路)
  MSS          : 不明
  Window       : 不明
  irtt         : 不明
  Iface        : 経路を使用するNIC
  --------------------------------------------------
    
  以下の確認に続く
  
================================================================================
[11]
  ネットワーク管理コマンド - 07 (ss)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(ss)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(ss)
    ss -a  // 全ソケット情報を表示
    ss -n  // 名前解決なし
    ss -p  // プロセスとPIDも表示
    ss -r  // ホスト名を解決
    ss -t  // TCPポートのみ表示
    ss -u  // UDPポートのみ表示
    ss -4  // IPv4のみ表示
    ss -6  // IPv6のみ表示
  
[確認]
  vm12$ cd $HOME
  vm12$ ss -a -p -t -4 (全ソケット情報、プロセス名表示、名前解決なし、TCPポートのみ、IPv4のみ表示)
  
  コマンドの実行結果
  --------------------------------------------------
  State    Recv-Q   Send-Q   Local Address:Port   Peer Address:Port
  LISTEN        0      128   *:ssh                *:*              
  LISTEN        0      100   127.0.0.1:smtp       *:*              
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[12]
  ネットワーク管理コマンド - 08 (nc)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(nc)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## 使用マシン
    HOST : vm13
    IPV4 : 192.168.122.13
    MEMO : 仮想マシン(クライアント用途)
  
  ## コマンド(nc)
    nc -k  // 複数クライアントTCPコネクションを同時確立
    nc -l  // 指定ポートをリスニング
    nc -4  // IPv4
    nc -6  // IPv6
    nc -p  // ポート番号を指定
    nc -u  // UDP利用
    nc -o  // 指定ファイルに出力
    nc -n  // 名前解決なし
    nc -z  // 通信可能か表示
  
[確認]
  vm12$ cd $HOME
  vm12$ sudo yum -y install nmap-ncat (パッケージ追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> エラー出力が無ければOK
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ nc -4 -vz localhost 15000 (ポートスキャン)
  vm12$ nc -4 -vz localhost 15001 (ポートスキャン)
  vm12$ nc -4 -vz localhost 15002 (ポートスキャン)
  
  コマンドの実行結果
  --------------------------------------------------
  // 15000
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connection to 127.0.0.1 failed: Connection refused.
  Ncat: Trying next address...
  Ncat: Connection refused.
  
  // 15001
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connection to 127.0.0.1 failed: Connection refused.
  Ncat: Trying next address...
  Ncat: Connection refused.
  
  // 15002
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connection to 127.0.0.1 failed: Connection refused.
  Ncat: Trying next address...
  Ncat: Connection refused.
  --------------------------------------------------
    
    vm13$ cd $HOME
    vm13$ sudo yum -y install nmap-ncat (パッケージ追加)
    
    コマンドの実行結果
    --------------------------------------------------
    (省略) -> エラー出力が無ければOK
    --------------------------------------------------
    
    vm13$ cd $HOME
    vm13$ nc -4 -vz vm12 15000 (ポートスキャン)
    vm13$ nc -4 -vz vm12 15001 (ポートスキャン)
    vm13$ nc -4 -vz vm12 15002 (ポートスキャン)
    
    コマンドの実行結果
    --------------------------------------------------
    // 15000
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: No route to host.

    // 15001
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: No route to host.
    
    // 15002
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: No route to host.
    --------------------------------------------------
    
  vm12$ cd $HOME
  vm12$ sudo firewall-cmd --add-port=15001/tcp --permanent (ポート開放)
  
  コマンドの実行結果
  --------------------------------------------------
  success
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo firewall-cmd --reload
  
  コマンドの実行結果
  --------------------------------------------------
  success
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ nc -k -4 -l 15001 & (複数接続サポート、IPv4通信、リスニング開始、バックグラウンド実行)
  
  コマンドの実行結果
  --------------------------------------------------
  [1] 1804 -> PID
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ netstat -l -t -4 -p (リスニング状態、TCP、IPv4、PIDを表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Active Internet connections (only servers)
  Proto  Recv-Q  Send-Q  Local-Address   Foreign-Address  State   PID/Program-name    
  tcp         0       0  0.0.0.0:ssh     0.0.0.0:*        LISTEN  -                   
  tcp         0       0  0.0.0.0:15001   0.0.0.0:*        LISTEN  1804/nc             
  tcp         0       0  localhost:smtp  0.0.0.0:*        LISTEN  -                   
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ss -l -t -4 (リスニング状態、TCP、IPv4、PIDを表示)
  
  コマンドの実行結果
  --------------------------------------------------
  State   Recv-Q  Send-Q  Local-Address:Port  Peer-Address:Port  (PID/Program-name)          
  LISTEN       0     128  *:ssh               *:*                -                           
  LISTEN       0      10  *:15001             *:*                users:(("nc",pid=1804,fd=3))
  LISTEN       0     100  127.0.0.1:smtp      *:*                -                           
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ nc -4 -vz localhost 15000 (ポートスキャン)
  vm12$ nc -4 -vz localhost 15001 (ポートスキャン)
  vm12$ nc -4 -vz localhost 15002 (ポートスキャン)
  
  コマンドの実行結果
  --------------------------------------------------
  // 15000
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connection to 127.0.0.1 failed: Connection refused.
  Ncat: Trying next address...
  Ncat: Connection refused.
  
  // 15001
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connected to 127.0.0.1:15001.
  Ncat: 0 bytes sent, 0 bytes received in 0.04 seconds. (ポート15001の開放)
  
  // 15002
  Ncat: Version 7.50 ( https://nmap.org/ncat )
  Ncat: Connection to 127.0.0.1 failed: Connection refused.
  Ncat: Trying next address...
  Ncat: Connection refused.
  --------------------------------------------------
    
    vm13$ cd $HOME
    vm13$ nc -4 -vz vm12 15000 (ポートスキャン)
    vm13$ nc -4 -vz vm12 15001 (ポートスキャン)
    vm13$ nc -4 -vz vm12 15002 (ポートスキャン)
    
    コマンドの実行結果
    --------------------------------------------------
    // 15000
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: No route to host.
    
    // 15001
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: Connected to 192.168.122.12:15001.
    Ncat: 0 bytes sent, 0 bytes received in 0.04 seconds. (ポート15001の開放)
    
    // 15002
    Ncat: Version 7.50 ( https://nmap.org/ncat )
    Ncat: No route to host.
    --------------------------------------------------
    
    vm13$ cd $HOME
    vm13$ echo AAA | nc vm12 15001 (ポート15001へデータ送信)
    
    コマンドの実行結果
    --------------------------------------------------
    (省略) -> 出力なし
    --------------------------------------------------
    
  vm12$ 
  vm12$ AAA (入力プロンプトに送信データを確認)

  コマンドの実行結果
  --------------------------------------------------
  (省略) -> EnterでOSに戻る
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ pgrep nc (バックグラウンド実行したプロセスのPIDを調査)
  
  コマンドの実行結果
  --------------------------------------------------
  1804
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ kill -TERM 1804 (バックグラウンド実行したプロセスの終了)
  
  コマンドの実行結果
  --------------------------------------------------
  [1]+  Terminated   nc -k -4 -l 15001
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo firewall-cmd --remove-port=15001/tcp --permanent (ポート閉鎖)
  
  コマンドの実行結果
  --------------------------------------------------
  success
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo firewall-cmd --reload
  
  コマンドの実行結果
  --------------------------------------------------
  success
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[13]
  ネットワーク管理コマンド - 09 (ip)
  
[内容]
  ## 作業内容
    ネットワーク管理をコマンド(ip)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(ip)
    ip -s             // 詳細表示
    ip -r             // 名前解決して表示
    ip -f inet|inet6  // inet(IPv4), inet6(IPv6)
    ip link	show      // データリンク層の情報を表示
    ip neigh show     // ARPキャッシュを表示
    ip addr show      // IPアドレスを表示
    ip route show     // ルーティングテーブルを表示
	  ip addr add XX dev YY   // ネットワークデバイス(YY)にIPアドレス(XX)を追加
    ip addr del XX dev YY   // ネットワークデバイス(YY)のIPアドレス(XX)を削除
    ip route add XX dev YY  // ネットワークデバイス(YY)にルート(XX)を追加
    ip route del XX dev YY  // ネットワークデバイス(YY)のルート(XX)を削除
  
[確認]
  vm12$ cd $HOME
  vm12$ ip link show (データリンク層の情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
  2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
     link/ether 52:54:00:70:e2:3b brd ff:ff:ff:ff:ff:ff
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -s link show (詳細表示、データリンク層の情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
     link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
     RX: bytes  packets  errors  dropped overrun mcast   
     7972       137      0       0       0       0       
     TX: bytes  packets  errors  dropped carrier collsns 
     7972       137      0       0       0       0       
  2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
     link/ether 52:54:00:70:e2:3b brd ff:ff:ff:ff:ff:ff
     RX: bytes  packets  errors  dropped overrun mcast   
     1785021    29153    0       17      0       0       
     TX: bytes  packets  errors  dropped carrier collsns 
     184979     2968     0       0       0       0       
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip neigh show (ARPキャッシュの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  192.168.122.13 dev eth0 lladdr 52:54:00:01:99:8f STALE
  192.168.122.1  dev eth0 lladdr 52:54:00:13:d6:dc STALE
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -s neigh show (詳細表示、ARPキャッシュの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  192.168.122.13 dev eth0 lladdr 52:54:00:01:99:8f used 33214/33183/33140 probes 1 STALE
  192.168.122.1  dev eth0 lladdr 52:54:00:13:d6:dc used 54/49/6 probes 1 STALE
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -f inet addr show (IPv4のみ、IPアドレスの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
     inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
  2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
     inet 192.168.122.12/24 brd 192.168.122.255 scope global noprefixroute eth0
       valid_lft forever preferred_lft forever
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -s -f inet addr show (詳細表示、IPv4のみ、IPアドレスの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
     inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
     RX: bytes  packets  errors  dropped overrun mcast   
     7972       137      0       0       0       0       
     TX: bytes  packets  errors  dropped carrier collsns 
     7972       137      0       0       0       0       
  2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
     inet 192.168.122.12/24 brd 192.168.122.255 scope global noprefixroute eth0
       valid_lft forever preferred_lft forever
     RX: bytes  packets  errors  dropped overrun mcast   
     1800117    29440    0       17      0       0       
     TX: bytes  packets  errors  dropped carrier collsns 
     186503     2994     0       0       0       0       
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo ip addr add 192.168.122.22/24 dev eth0:0 (デバイスに仮想IPアドレスを付与)
  vm12$ sudo ip addr add 192.168.122.32/24 dev eth0:1 (デバイスに仮想IPアドレスを付与)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -f inet addr show (IPv4のみ、IPアドレスの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
     inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
  2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
     inet 192.168.122.12/24 brd 192.168.122.255 scope global noprefixroute eth0
       valid_lft forever preferred_lft forever
     inet 192.168.122.22/24 scope global secondary eth0 (仮想IPアドレス)
       valid_lft forever preferred_lft forever
     inet 192.168.122.32/24 scope global secondary eth0 (仮想IPアドレス)
       valid_lft forever preferred_lft forever
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo ip addr del 192.168.122.22/24 dev eth0:0 (デバイスの仮想IPアドレスを削除)
  vm12$ sudo ip addr del 192.168.122.32/24 dev eth0:1 (デバイスの仮想IPアドレスを削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip route show (ルーティングテーブルの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  default via 192.168.122.1 dev eth0 proto static metric 100 
  192.168.122.0/24 dev eth0 proto kernel scope link src 192.168.122.12 metric 100 
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip -s route show (詳細表示、ルーティングテーブルの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  default via 192.168.122.1 dev eth0 proto static metric 100 
  192.168.122.0/24 dev eth0 proto kernel scope link src 192.168.122.12 metric 100 
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo ip route add 192.168.122.22/32 via 192.168.122.1 dev eth0 (ルート情報を追加)
  vm12$ sudo ip route add 192.168.122.32/32 via 192.168.122.1 dev eth0 (ルート情報を追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ ip route show (ルーティングテーブルの情報を表示)
  
  コマンドの実行結果
  --------------------------------------------------
  default via 192.168.122.1 dev eth0 proto static metric 100 
  192.168.122.0/24 dev eth0 proto kernel scope link src 192.168.122.12 metric 100 
  192.168.122.22 via 192.168.122.1 dev eth0 (追加ルート)
  192.168.122.32 via 192.168.122.1 dev eth0 (追加ルート)
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo ip route del 192.168.122.22/32 via 192.168.122.1 dev eth0 (ルート情報を削除)
  vm12$ sudo ip route del 192.168.122.32/32 via 192.168.122.1 dev eth0 (ルート情報を削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
[14]
  ルーティングの設定
  
[内容]
  ## 作業内容
    ルーティングテーブルをコマンド(route)で管理する
  
  ## 使用マシン
    HOST : localhost
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(route)
    route -n  // 名前解決しない
    route -F  // ルーティングテーブル表示
    route -C  // ルーティングキャッシュ表示
    route add -host XX dev ZZ  // ホスト(XX)へはデバイス(ZZ)へ送出というルート情報を追加
    route del -host XX dev ZZ  // ホスト(XX)へはデバイス(ZZ)へ送出というルート情報を削除
    route add -net XX  netmask YY dev ZZ  // ネットワーク(XX)へはデバイス(ZZ)へ送出というルート情報を追加
    route del -net XX  netmask YY dev ZZ  // ネットワーク(XX)へはデバイス(ZZ)へ送出というルート情報を削除
  
[確認]
  vm12$ cd $HOME
  vm12$ route (ルーティングテーブル表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask        Flags  Metric  Ref  Use  Iface
  default         gateway   0.0.0.0        UG        100    0    0  eth0 
  192.168.122.0   0.0.0.0   255.255.255.0  U         100    0    0  eth0 
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo route add -host 192.168.122.22 dev eth0 (ルート情報を追加)
  vm12$ sudo route add -host 192.168.122.32 dev eth0 (ルート情報を追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ route (ルーティングテーブル表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask         Flags Metric  Ref  Use  Iface
  default         gateway   0.0.0.0         UG    100       0    0  eth0
  192.168.122.0   0.0.0.0   255.255.255.0   U     100       0    0  eth0
  192.168.122.22  0.0.0.0   255.255.255.255 UH    0         0    0  eth0
  192.168.122.32  0.0.0.0   255.255.255.255 UH    0         0    0  eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo route del -host 192.168.122.22 dev eth0 (ルート情報を削除)
  vm12$ sudo route del -host 192.168.122.32 dev eth0 (ルート情報を削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ route (ルーティングテーブル表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask        Flags  Metric  Ref  Use  Iface
  default         gateway   0.0.0.0        UG        100    0    0  eth0 
  192.168.122.0   0.0.0.0   255.255.255.0  U         100    0    0  eth0 
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo route add -net 192.168.130.0 netmask 255.255.255.0 dev eth0 (ルート情報を追加)
  vm12$ sudo route add -net 192.168.140.0 netmask 255.255.255.0 dev eth0 (ルート情報を追加)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ route (ルーティングテーブル表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask        Flags  Metric  Ref  Use  Iface
  default         gateway   0.0.0.0        UG        100    0    0  eth0
  192.168.122.0   0.0.0.0   255.255.255.0  U         100    0    0  eth0
  192.168.130.0   0.0.0.0   255.255.255.0  U           0    0    0  eth0
  192.168.140.0   0.0.0.0   255.255.255.0  U           0    0    0  eth0
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ sudo route del -net 192.168.130.0 netmask 255.255.255.0 dev eth0 (ルート情報を削除)
  vm12$ sudo route del -net 192.168.140.0 netmask 255.255.255.0 dev eth0 (ルート情報を削除)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ route (ルーティングテーブル表示)
  
  コマンドの実行結果
  --------------------------------------------------
  Kernel IP routing table
  Destination     Gateway   Genmask        Flags  Metric  Ref  Use  Iface
  default         gateway   0.0.0.0        UG        100    0    0  eth0 
  192.168.122.0   0.0.0.0   255.255.255.0  U         100    0    0  eth0 
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
