================================================================================
[01] ソースの展開 - 01 (tar-gzip)
[02] ソースの展開 - 02 (tar-bzip2)
[03] ソースの展開 - 03 (tar-xz)
[04] ソースの展開 - 04 (patch)
================================================================================
[01]
  ソースの展開 - 01 (tar-gzip)
  
[内容]
  ## ファイル(source)の展開

  ==========================================================
                          source
  ==========================================================
            |                                    |
            + tar -cf source.tar source          |
            |                                    |
  ======================                         |
       source.tar                                + tar zcf source.tar.gz source
  ======================                         |
            |                                    |
            + gzip source.tar                    |
            |                                    |
  ==========================================================
                      source.tar.gz
  ==========================================================
            |                                    |
            + gunzip source.tar.gz               |
            |  (gzip -d source.tar.gz)           |
  ======================                         |
       source.tar                                + tar zxf source.tar.gz
  ======================                         |
            |                                    |
            + tar xf source.tar                  |
            |                                    |
  ==========================================================
                          source
  ==========================================================
  
[確認]
  実機での確認なし
  
================================================================================
[02]
  ソースの展開 - 02 (tar-bzip2)
  
[内容]
  ## ファイル(source)の展開

  ==========================================================
                          source
  ==========================================================
            |                                    |
            + tar -cf source.tar source          |
            |                                    |
  ======================                         |
       source.tar                                + tar jcf source.tar.bz2 source
  ======================                         |
            |                                    |
            + bzip2 source.tar                   |
            |                                    |
  ==========================================================
                      source.tar.bz2
  ==========================================================
            |                                    |
            + bunzip2 source.tar.bz2             |
            |  (bzip2 -d source.tar.bz2)         |
  ======================                         |
       source.tar                                + tar jxf source.tar.bz2
  ======================                         |
            |                                    |
            + tar xf source.tar                  |
            |                                    |
  ==========================================================
                          source
  ==========================================================
  
[確認]
  実機での確認なし
  
================================================================================
[03]
  ソースの展開 - 03 (tar-xz)
  
[内容]
  ## ファイル(source)の展開
  
  ==========================================================
                          source
  ==========================================================
            |                                    |
            + tar -cf source.tar source          |
            |                                    |
  ======================                         |
       source.tar                                + tar Jcf source.tar.xz source
  ======================                         |
            |                                    |
            + xz source.tar                      |
            |                                    |
  ==========================================================
                      source.tar.xz
  ==========================================================
            |                                    |
            + unxz source.tar.xz                 |
            |  (xz -d source.tar.xz)             |
  ======================                         |
       source.tar                                + tar Jxf source.tar.xz
  ======================                         |
            |                                    |
            + tar xf source.tar                  |
            |                                    |
  ==========================================================
                          source
  ==========================================================
  
[確認]
  実機での確認なし
  
================================================================================
[04]
  ソースの展開 - 04 (patch)
  
[内容]
  ## 作業内容
    ソースの修正部分(パッチ)の反映をコマンド(patch)で行う
  
  ## 使用マシン
    HOST : vm12
    IPV4 : 192.168.122.12
    MEMO : 仮想マシン(サーバー用途)
  
  ## コマンド(patch)
    patch -C  // 処理内容のテスト
    patch -R  // 処理内容を取り消して元に戻す
    patch -p0 XX < YY  // ファイル(XX)にパッチ(YY=patch/AAA)の差分を適用、パスを修正しない   -> patch/AAA
    patch -p1 XX < YY  // ファイル(XX)にパッチ(YY=patch/AAA)の差分を適用、最初の'/'まで削除  -> AAA
    
[確認]
  vm12$ cd $HOME/HELLO -> 先にディレクトリ作成
  vm12$ vi hello.h
  
  コマンドの実行結果
  --------------------------------------------------
  #ifndef HELLO_H_
  
  void Hello1(void);  // 関数プロトタイプ宣言
  
  #endif
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ vi hello.c
  
  コマンドの実行結果
  --------------------------------------------------
  #include <stdio.h>
  #include "hello.h"
  
  void Hello1(void) { printf("Hello1\n"); }  // 関数実装
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO/patch -> 先にディレクトリ作成
  vm12$ cp -p ../hello* .
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO/patch
  vm12$ vi hello.h
  
  コマンドの実行結果
  --------------------------------------------------
  #ifndef HELLO_H_
  
  void Hello1(void);  // 関数プロトタイプ宣言
  void Hello2(void);  // 関数プロトタイプ宣言(追加)
  
  #endif
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO/patch
  vm12$ vi hello.c
  
  コマンドの実行結果
  --------------------------------------------------
  #include <stdio.h>
  #include "hello.h"
  
  void Hello1(void) { printf("Hello1\n"); }  // 関数実装
  void Hello2(void) { printf("Hello2\n"); }  // 関数実装(追加)
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ diff -u *.h patch/*.h >> patch/patch01 (パッチファイル作成)
  vm12$ diff -u *.c patch/*.c >> patch/patch01 (パッチファイル作成)
  
  コマンドの実行結果
  --------------------------------------------------
  //
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ cat patch/patch01 (パッチファイル確認)
  
  コマンドの実行結果
  --------------------------------------------------
  //
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO/patch
  vm12$ rm -f *.h *.c
  
  コマンドの実行結果
  --------------------------------------------------
  //
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ patch -C -p0 hello.h < patch/patch01 (パッチ適用のテスト)
  vm12$ patch -C -p0 hello.c < patch/patch01 (パッチ適用のテスト)
  
  コマンドの実行結果
  --------------------------------------------------
  //
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ patch -p0 hello.h < patch/patch01 (パッチ適用)
  vm12$ patch -p0 hello.c < patch/patch01 (パッチ適用)
  
  コマンドの実行結果
  --------------------------------------------------
  //
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ cat hello.h
  
  コマンドの実行結果
  --------------------------------------------------
  #ifndef HELLO_H_
  
  void Hello1(void);  // 関数プロトタイプ宣言
  void Hello2(void);  // 関数プロトタイプ宣言
  
  #endif
  --------------------------------------------------
  
  vm12$ cd $HOME/HELLO
  vm12$ cat hello.c
  
  コマンドの実行結果
  --------------------------------------------------
  #include <stdio.h>
  #include "hello.h"
  
  void Hello1(void) { printf("Hello1\n"); }  // 関数実装
  void Hello2(void) { printf("Hello2\n"); }  // 関数実装
  --------------------------------------------------
  
  vm12$ cd $HOME
  vm12$ patch -R -p0 hello.h < patch/patch01 (パッチ適用の取消)
  vm12$ patch -R -p0 hello.c < patch/patch01 (パッチ適用の取消)
  
  コマンドの実行結果
  --------------------------------------------------
  (省略) -> 出力なし
  --------------------------------------------------
  
  以下の確認に続く
  
================================================================================
